<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ESTACIONAMIENTO</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <style>
        .tabla{
            width: 80%;
            height: auto;
            border: 3px solid #000;
            border-collapse: collapse;
            text-align: left;
            margin-left: 10%;
            margin-right: 10%;
            background-color: ghostwhite;
            
        }
        .tabla td{            
            border-bottom: rgb(0, 15, 20) 1px;
            
        }
        .tabla th{
            color: rgb(0, 0, 0);
            text-align: center;
        }
        .text{
            text-align: center;
        }
        .text{
            text-align: center;
        }
        .button{
            background-color: #94A3A2;
        }
    </style>
</head>
<body style="background-color: #b5feb5">
    <h1 class="text">ESTACIONAMIENTO NL</h1>
    <h2 class="text">REGISTRA TU AUTO :)</h2>
    <br>
    <input type="text" name="matricula" placeholder="matricula" id="matricula" style="margin-left: 10PX;">
    <input type="text" name="marca" placeholder="marca" id="marca"  style="margin-left: 10PX;">
    <input type="time" name="horaEntrada" placeholder="horaEntrada" id="horaEntrada" style="margin-left: 10PX;">
    <button id="registrar" onclick="registrarA(this)" style="margin-left: 10PX;" class="button">REGISTRAR</button>
<br>
<br>
<table>
    <tr>
      <th>HORA</th>
      <th>PRECIO</th>
    </tr>
    <tr>
      <td>1-3 hrs</td>
      <td>$100</td>
    </tr>
    <tr>
      <td>4-5 hrs</td>
      <td>$200</td>
    </tr>
    <tr>
        <td>6 칩 m치s</td>
        <td>$500</td>
      </tr>
  </table>
    
    <table class="tabla">
        <thead>
            <tr>
                <h3 class="text">LISTA AUTOS</h3>
                <th>MATRICULA</th>
                <th>MARCA</th>
                <th>HORA DE ENTRADA</th>
            </tr>
        </thead>
        <tbody id="lista">
            
        </tbody>
    </table>

    <br>
    <br>
    <h4 style="margin-left: 10PX;">REALIZAR:</h4>
    <button id="buscarMatricula" onclick="buscarMatricula(this)" style="margin-left: 10PX;" class="button">BUSCAR MATRICULA</button>
    <button id="buscarMarca" onclick="buscarMarca(this)" style="margin-left: 10PX;" class="button">BUSCAR MARCA</button>
    <br>

    <h3 class="text">PAGO</h2>
    <br>
    <label name=''>Ingrese los minutos que permaneci칩 en el estacionamiento: </label>
    <input type="text" name="horasEstacionamiento" placeholder="Minutos_estacionamiento" id="horaS" style="margin-left: 10PX;">
    <button id="confirmar" onclick="calcularPrecio(this)" style="margin-left: 10PX;" class="button" >CONFIRMAR</button>
    

</body>

<script>

    function registrarA(){
        var matricula = document.getElementById('matricula').value;
        var marca = document.getElementById('marca').value;
        var horaEntrada = document.getElementById('horaEntrada').value;
        var lista = document.getElementById('lista');
        var tr = document.createElement('tr');
        var td = document.createElement('td');
        var td2 = document.createElement('td');
        var td3 = document.createElement('td');
        td.innerHTML = matricula;
        td2.innerHTML = marca;
        td3.innerHTML = horaEntrada;        
        tr.appendChild(td);
        tr.appendChild(td2);
        tr.appendChild(td3);
        lista.appendChild(tr);
    }
    function buscarMatricula(elementos){
        var lista = document.getElementById('lista');
        var matricula = prompt("Ingresar Matricula");
        for(var i = 0; i < lista.rows.length; i++){
            if(lista.rows[i].cells[0].innerHTML == matricula){
                alert("El auto con matricula " + matricula + " esta en la posicion " + i);
            }
        }
    }
    function buscarMarca(elementos){
        var lista = document.getElementById('lista');
        var hora = document.getElementById('horaEntrada').value;
        var marca = prompt("Ingresar Marca");
        for(var i = 0; i < lista.rows.length; i++){
            if(lista.rows[i].cells[1].innerHTML == marca){
                alert("El auto con marca " + marca + " ingres칩 a las: " + hora);
            }
        }
    }
    function calcularPrecio(){
        var hora = document.getElementById('horaS').value;
        var precio = 0;
        var precioU = 0;
        var precioD = 0;

        if(hora <= 180){
            precio = precio + 100;
            alert ("El monto que usted va a pagar es " + precio);
            var cantidad = prompt("Ingrese el dinero: ");
            var cambio 
            if(cantidad < 100){
              alert ("Error el monto que usted va a pagar es " + precio + " ingrese nuevamente los minutos");
            }else if (cantidad >= 100){
                cambio = cantidad-100;
                alert ("Gracias por usar nuestro servicio :), su cambio es: " + cambio);
            }

        }
        
        if(hora >= 181 && hora <= 300){
            precioU = precioU + 200;
            alert ("El monto que usted va a pagar es " + precioU);
            var cantidadU = prompt("Ingrese el dinero: ");
            var cambioU
            if(cantidadU = 200){
             alert ("Error el monto que usted va a pagar es " + precioU + " ingrese nuevamente los minutos");
            }else if (cantidadU >= 200){
                cambioU = cantidadU-200;
                alert ("Gracias por usar nuestro servicio :), su cambio es: " + cambioU);
            }
        }  

      if(hora >= 301){
            precioD = precioD + 500;
            alert ("El monto que usted va a pagar es " + precioD);
            var cantidadD = prompt("Ingrese el dinero: ");
            var cambioD
            if(cantidadD < 500){
             alert ("Error el monto que usted va a pagar es " + precioD + " ingrese nuevamente los minutos");
            }else if(cantidadD >= 500){
                cambioD = cantidadD-500;
                alert ("Gracias por usar nuestro servicio :), su cambio es: " + cambioD);
            }
        }
    }


</Script>
</html>